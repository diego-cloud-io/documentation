<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-deployment-guide/operation-guidance">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Operation Guidance | Diego</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://diego-cloud-io.github.io/documentation/docs/deployment-guide/operation-guidance"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Operation Guidance | Diego"><meta data-rh="true" name="description" content="Checking Diego Health"><meta data-rh="true" property="og:description" content="Checking Diego Health"><link data-rh="true" rel="icon" href="/documentation/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://diego-cloud-io.github.io/documentation/docs/deployment-guide/operation-guidance"><link data-rh="true" rel="alternate" href="https://diego-cloud-io.github.io/documentation/docs/deployment-guide/operation-guidance" hreflang="en"><link data-rh="true" rel="alternate" href="https://diego-cloud-io.github.io/documentation/docs/deployment-guide/operation-guidance" hreflang="x-default"><link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css"><link rel="stylesheet" href="/documentation/assets/css/styles.19235761.css">
<link rel="preload" href="/documentation/assets/js/runtime~main.715c36a5.js" as="script">
<link rel="preload" href="/documentation/assets/js/main.ff689664.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/documentation/"><div class="navbar__logo"><img src="/documentation/img/logoLight.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/documentation/img/logoDark.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/docs/deployment-guide/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/docs/deployment-guide/planning-guidance">Planning Guidance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/docs/deployment-guide/deployment-assets">Deployment Assets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/docs/deployment-guide/security">Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/documentation/docs/deployment-guide/operation-guidance">Operation Guidance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/docs/deployment-guide/support">Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/docs/deployment-guide/teardown">Teardown Diego setup</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Operation Guidance</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Operation Guidance</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="checking-diego-health">Checking Diego Health<a class="hash-link" href="#checking-diego-health" title="Direct link to heading">​</a></h2><p>Diego is composed of a number of collaborating components as described in the <a href="/documentation/docs/deployment-guide/introduction">introduction</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="check-argocd-is-running-and-available">Check ArgoCD is running and available<a class="hash-link" href="#check-argocd-is-running-and-available" title="Direct link to heading">​</a></h3><p>ArgoCD is made up of the following controllers and services:</p><ul><li>diego-base-argocd-application-controller</li><li>diego-base-argocd-applicationset-controller</li><li>diego-base-argocd-notifications-controller</li><li>diego-base-argocd-redis</li><li>diego-base-argocd-repo-server</li><li>diego-base-argocd-server</li></ul><p>Run the following command at your terminal and check there is a <code>running</code> pod for each of these: </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -n argocd </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The output should be similar:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                                          READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diego-base-argocd-application-controller-0                    1/1     Running   0          16d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diego-base-argocd-applicationset-controller-549bd598d-brbvs   1/1     Running   0          16d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diego-base-argocd-notifications-controller-587655488d-j2rbh   1/1     Running   0          16d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diego-base-argocd-redis-69d64848cb-zhpc2                      1/1     Running   0          16d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diego-base-argocd-repo-server-65d77f9549-vpjm7                1/1     Running   0          16d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diego-base-argocd-server-55f68f8dd4-n2v5g                     1/1     Running   0          16d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Open the ArgoCD at <code>https://argocd.diego.&lt;yourdomain&gt;</code> to check the UI is working</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="check-argocd-managed-components-are-healthy">Check ArgoCD managed components are healthy<a class="hash-link" href="#check-argocd-managed-components-are-healthy" title="Direct link to heading">​</a></h3><p>ArgoCD is responsible for the deployment and health reporting of the following Diego components:</p><ul><li>aws-lb-controller            </li><li>cert-manager                 </li><li>dex                          </li><li>diego-core                   </li><li>diego-oauth2-proxy           </li><li>external-dns-controller      </li><li>external-secrets-operator    </li><li>production-env-prerequisites </li><li>project-applications         </li><li>project-environments         </li><li>root                         </li><li>staging-env-prerequisites    </li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get applications -n argocd </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Ensure the following components are reported as <code>Healthy</code></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">NAME                             SYNC STATUS   HEALTH STATUS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws-lb-controller                OutOfSync     Healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cert-manager                     Synced        Healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dex                              Synced        Healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diego-core                       Synced        Healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diego-oauth2-proxy               Synced        Healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">external-dns-controller          Synced        Healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">external-secrets-operator        Synced        Healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">production-env-prerequisites     Synced        Healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">project-applications             Synced        Healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">project-environments             Synced        Healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root                             Synced        Healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">staging-env-prerequisites        Synced        Healthy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="check-diego-hub-is-available">Check Diego Hub is available<a class="hash-link" href="#check-diego-hub-is-available" title="Direct link to heading">​</a></h3><p>Open Diego Hub at <code>https://hub.diego.&lt;yourdomain&gt;</code> to check the UI is working.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="backup--recovery">Backup &amp; Recovery<a class="hash-link" href="#backup--recovery" title="Direct link to heading">​</a></h2><ul><li>Diego keeps it&#x27;s state in four different managed services listed below. Diego delegates backup responsibility to these services.</li><li>We recommend you back up your EKS cluster state as this wll allow you to recover your cluster, including Diego and the deployment status of your applications and environments, to the most recent EKS state.<ul><li>See <a href="https://aws.amazon.com/blogs/containers/backup-and-restore-your-amazon-eks-cluster-resources-using-velero/" target="_blank" rel="noopener noreferrer">this</a> AWS blog outlining how this could be achieved using Velero.</li></ul></li></ul><table><thead><tr><th>Service</th><th>State</th><th>SLA</th></tr></thead><tbody><tr><td>AWS EKS (etcd)</td><td>Kubernetes state including all Diego API objects</td><td></td></tr><tr><td>AWS Systems Manager ParameterStore</td><td>Sensitive environment variables for your Diego managed applications</td><td></td></tr><tr><td>AWS CloudFormation</td><td>State of AWS resources and services configured as part of Diego deployment</td><td></td></tr><tr><td>GitHub</td><td>Representation of your Diego installation and also your deployed Diego managed environments and applications</td><td></td></tr></tbody></table><p>There are no specific backup instructions or tasks for Diego beyond the automated backup provided by the AWS services that it uses (above).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recovery-with-eks-backup">Recovery with EKS backup<a class="hash-link" href="#recovery-with-eks-backup" title="Direct link to heading">​</a></h3><p>Diego components will be restarted automatically once your EKS cluster is recovered. Your customer applications will be re-started by Diego, based on the last commits Diego has made to your default-project repository.</p><p>The RPO in this case is the last EKS commit to its backing store and the last commit to GitHub of the Diego application controller.</p><p>The RTO is approximately 30 minutes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recovery-without-eks-backup">Recovery without EKS backup<a class="hash-link" href="#recovery-without-eks-backup" title="Direct link to heading">​</a></h3><p>In this case the recommendation is to re-run the <a href="/documentation/docs/deployment-guide/deployment-assets#command-5---deploy-diego-in-aws-eks">final installation step</a> of Diego. After completing that step and confirming that Diego is <a href="/documentation/docs/deployment-guide/operation-guidance#checking-diego-health">healthy</a> you must then on-board your existing applications to Diego again using Diego Hub.</p><p>The RTO is approximately 30 minutes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recovery-after-diego-component-failure">Recovery after Diego component failure<a class="hash-link" href="#recovery-after-diego-component-failure" title="Direct link to heading">​</a></h3><p>This is handled by EKS. EKS will detect and restart unresponsive or unhealthy Diego components (pods).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recovery-from-az-failure">Recovery from AZ failure<a class="hash-link" href="#recovery-from-az-failure" title="Direct link to heading">​</a></h3><p>The behaviour of Diego during an AZ failure depends on the wider configuration of the EKS cluster in which you have deployed Diego.</p><ol><li><p><strong>EKS cluster with a single node in the affected AZ</strong> </p><p>Diego is unavailable. When the AZ recovers, the EKS node and Diego components running on it will be automatically recovered. No Diego state will be lost.</p></li><li><p><strong>EKS cluster with multiple nodes across multiple AZs</strong> </p><p>If Diego components are running on a node in the affected AZ then assuming there is capacity on other nodes the Kubernetes scheduler will start the Diego components on another available node. Diego will be unavailable until the components are re-started and are healthy on the other node. No Diego state will be lost.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="routine-maintainence">Routine Maintainence<a class="hash-link" href="#routine-maintainence" title="Direct link to heading">​</a></h2><p>There are no routine maintainence tasks to perform for Diego.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="patches-and-upgrades">Patches and Upgrades<a class="hash-link" href="#patches-and-upgrades" title="Direct link to heading">​</a></h3><p>Diego components are deployed by ArgoCD. ArgoCD synchronizes the contents of the <code>diego-tooling</code> repository in your GitHub organisation as Diego components running in your EKS cluster. To update Diego you must commit changes to this repository and synchronize these changes to your EKS cluster via ArgoCD.</p><table><thead><tr><th>Deployment</th><th>Image Version</th><th>Chart</th><th>Patch/Upgrade Strategy</th></tr></thead><tbody><tr><td>Diego Application Controller</td><td>latest</td><td>diego-core v0.20.0</td><td>Each restart of this component pulls the latest image from the Diego public DockerHub repository</td></tr><tr><td>Diego Hub</td><td>latest</td><td>diego-core v0.20.0</td><td>Each restart of this component pulls the latest image from the Diego public DockerHub repository</td></tr><tr><td>Diego API</td><td>latest</td><td>diego-core v0.20.0</td><td>Each restart of this component pulls the latest image from the Diego public DockerHub repository</td></tr><tr><td>OAuth2 Proxy</td><td>v7.4.0</td><td>oauth2-proxy v6.5.0</td><td>Update <code>diego-oauth2-proxy.yaml</code> application manifest in your <code>diego-tooling</code> repository and manually sync in ArgoCD</td></tr><tr><td>ArgoCD</td><td>v2.5.1</td><td>diego-base v5.13.2<br>argo-cd v15.3.2</td><td>Updates not yet directly supported, coming in next release of Diego CLI</td></tr><tr><td>Dex</td><td>v2.35.3</td><td>dex v0.12.1</td><td>Update <code>dex.yaml</code> application manifest in your <code>diego-tooling</code> repository and manually sync in ArgoCD</td></tr><tr><td>AWS Load Balancer Controller</td><td>v2.4.1</td><td>aws-load-balancer-controller v1.4.1</td><td>Update <code>aws-lb-controller.yaml</code> application manifest in your <code>diego-tooling</code> repository and manually sync in ArgoCD</td></tr><tr><td>DNS Controller</td><td>v0.10.2</td><td>external-dns v1.7.1</td><td>Update <code>external-dns-controller.yaml</code> application manifest in your <code>diego-tooling</code> repository and manually sync in ArgoCD</td></tr><tr><td>External Secrets Operator</td><td>v0.5.9</td><td>external-secrets v0.5.9</td><td>Update <code>external-secrets-operator.yaml</code> application manifest in your <code>diego-tooling</code> repository and manually sync in ArgoCD</td></tr><tr><td>Cert Manager Controller</td><td>v1.8.2</td><td>cert-manager v1.8.2</td><td>Update <code>cert-manager.yaml</code> application manifest in your <code>diego-tooling</code> repository and manually sync in ArgoCD</td></tr></tbody></table><p>Managing Licenses</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-service-limits">AWS Service Limits<a class="hash-link" href="#aws-service-limits" title="Direct link to heading">​</a></h3><p>If you are running your EKS cluster on EC2 nodes then it is important to consider the <a href="https://github.com/awslabs/amazon-eks-ami/blob/master/files/eni-max-pods.txt" target="_blank" rel="noopener noreferrer">limits on the number of pods that can run on a given EC2 instance type</a> as this will set a capacity on the number of remaining pods you have available run your own applications. </p><p>For example, assuming you are running a minimally sized EKS cluster with a single t3.large node:</p><table><thead><tr><th>Node Type</th><th>Max Pods</th><th>Diego Usage (pods)</th><th>Other Required Cluster Services (pods)</th><th>Remaining Capacity for your applications (pods)</th></tr></thead><tbody><tr><td><code>t3.large</code></td><td>35</td><td>20</td><td>4</td><td>11</td></tr></tbody></table><p>EMERGENCY MAINTENANCE</p><p>Provide step-by-step instructions for actions to take in the event of fault conditions, such as a transient failure of an AWS Service (e.g. availability of Amazon EC2 in a particular AZ is degraded), or a more permanent failure of an AWS service (e.g. EC2 instance has faulted, EC2 Scheduled Maintenance Event has been received). The following are required:</p><ul class="contains-task-list containsTaskList_mC6p"><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Step-by-step instructions on handling fault conditions </li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Step-by-step instructions on how to recover software</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/deployment-guide/operation-guidance.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/documentation/docs/deployment-guide/security"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Security</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/documentation/docs/deployment-guide/support"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Support</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#checking-diego-health" class="table-of-contents__link toc-highlight">Checking Diego Health</a><ul><li><a href="#check-argocd-is-running-and-available" class="table-of-contents__link toc-highlight">Check ArgoCD is running and available</a></li><li><a href="#check-argocd-managed-components-are-healthy" class="table-of-contents__link toc-highlight">Check ArgoCD managed components are healthy</a></li><li><a href="#check-diego-hub-is-available" class="table-of-contents__link toc-highlight">Check Diego Hub is available</a></li></ul></li><li><a href="#backup--recovery" class="table-of-contents__link toc-highlight">Backup &amp; Recovery</a><ul><li><a href="#recovery-with-eks-backup" class="table-of-contents__link toc-highlight">Recovery with EKS backup</a></li><li><a href="#recovery-without-eks-backup" class="table-of-contents__link toc-highlight">Recovery without EKS backup</a></li><li><a href="#recovery-after-diego-component-failure" class="table-of-contents__link toc-highlight">Recovery after Diego component failure</a></li><li><a href="#recovery-from-az-failure" class="table-of-contents__link toc-highlight">Recovery from AZ failure</a></li></ul></li><li><a href="#routine-maintainence" class="table-of-contents__link toc-highlight">Routine Maintainence</a><ul><li><a href="#patches-and-upgrades" class="table-of-contents__link toc-highlight">Patches and Upgrades</a></li><li><a href="#aws-service-limits" class="table-of-contents__link toc-highlight">AWS Service Limits</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Tech Amigos Ltd, Built with Docusaurus.</div></div></div></footer></div>
<script src="/documentation/assets/js/runtime~main.715c36a5.js"></script>
<script src="/documentation/assets/js/main.ff689664.js"></script>
</body>
</html>